(this.webpackJsonpsms=this.webpackJsonpsms||[]).push([[0],{249:function(e,t,a){e.exports=a(488)},258:function(e,t,a){},488:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(7),s=a.n(l),o=a(20),c=a(67),i=a(228),m=a(229),u={msg:{},status:null},d={},p=a(90),h=function(e,t){return Object(p.a)({},e,{},t)},E={token:null,first_name:null,last_name:null,username:null,schoolId:null,is_student:null,is_teacher:null,is_school_admin:null,is_system_admin:null,userId:null,error:null,loading:!1},f=function(e,t){return h(e,{error:null,loading:!0})},g=function(e,t){return h(e,{token:t.user.token,first_name:t.user.first_name,last_name:t.user.last_name,username:t.user.username,schoolId:t.user.schoolId,is_student:t.user.is_student,is_teacher:t.user.is_teacher,is_school_admin:t.user.is_school_admin,is_system_admin:t.user.is_system_admin,userId:t.user.userId,error:null,loading:!1})},y=function(e,t){return h(e,{error:t.error,loading:!1})},_=function(e,t){return h(e,{token:null,first_name:null,last_name:null,username:null,schoolId:null,is_student:null,is_teacher:null,is_school_admin:null,is_system_admin:null,userId:null,error:null,loading:!1})},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH_START":return f(e);case"AUTH_SUCCESS":return g(e,t);case"AUTH_FAIL":return y(e,t);case"AUTH_LOGOUT":return _(e);default:return e}},b={schools:[],currentSchool:{},error:null,loading:!1},S=function(e,t){return h(e,{error:null,loading:!0})},k=function(e,t){return h(e,{schools:t.schools,error:null,loading:!1})},N=function(e,t){return h(e,{error:t.error,loading:!1})},O=function(e,t){return h(e,{error:null,loading:!0})},T=function(e,t){return h(e,{currentSchool:t.school,error:null,loading:!1})},w=function(e,t){return h(e,{error:t.error,loading:!1})},C=function(e,t){return h(e,{error:null,loading:!0})},j=function(e,t){return h(e,{currentSchool:t.school,error:null,loading:!1})},I=function(e,t){return h(e,{error:t.error,loading:!1})},A=function(e,t){return h(e,{error:null,loading:!0})},D=function(e,t){return h(e,{currentSchool:t.school,error:null,loading:!1})},L=function(e,t){return h(e,{error:t.error,loading:!1})},x=function(e,t){return h(e,{error:null,loading:!0})},U=function(e,t){return h(e,{error:null,loading:!1})},R=function(e,t){return h(e,{error:t.error,loading:!1})},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_SCHOOL_LIST_START":return S(e);case"GET_SCHOOL_LIST_SUCCESS":return k(e,t);case"GET_SCHOOL_LIST_FAIL":return N(e,t);case"DELETE_SCHOOL_START":return O(e);case"DELETE_SCHOOL_SUCCESS":return T(e,t);case"DELETE_SCHOOL_FAIL":return w(e,t);case"UPDATE_SCHOOL_START":return C(e);case"UPDATE_SCHOOL_SUCCESS":return j(e,t);case"UPDATE_SCHOOL_FAIL":return I(e,t);case"GET_SCHOOL_DETAIL_START":return A(e);case"GET_SCHOOL_DETAIL_SUCCESS":return D(e,t);case"GET_SCHOOL_DETAIL_FAIL":return L(e,t);case"CREATE_SCHOOL_START":return x(e);case"CREATE_SCHOOL_SUCCESS":return U(e);case"CREATE_SCHOOL_FAIL":return R(e,t);default:return e}},F={users:[],currentUser:{},error:null,loading:!1},q=function(e,t){return h(e,{error:null,loading:!0})},V=function(e,t){return h(e,{users:t.users,error:null,loading:!1})},M=function(e,t){return h(e,{error:t.error,loading:!1})},H=function(e,t){return h(e,{error:null,loading:!0})},G=function(e,t){return h(e,{currentUser:t.user,error:null,loading:!1})},z=function(e,t){return h(e,{error:t.error,loading:!1})},W=function(e,t){return h(e,{error:null,loading:!0})},B=function(e,t){return h(e,{currentUser:t.user,error:null,loading:!1})},Y=function(e,t){return h(e,{error:t.error,loading:!1})},K=function(e,t){return h(e,{error:null,loading:!0})},Z=function(e,t){return h(e,{currentUser:t.user,error:null,loading:!1})},J=function(e,t){return h(e,{error:t.error,loading:!1})},$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_USER_LIST_START":return q(e);case"GET_USER_LIST_SUCCESS":return V(e,t);case"GET_USER_LIST_FAIL":return M(e,t);case"DELETE_USER_START":return H(e);case"DELETE_USER_SUCCESS":return G(e,t);case"DELETE_USER_FAIL":return z(e,t);case"UPDATE_USER_START":return W(e);case"UPDATE_USER_SUCCESS":return B(e,t);case"UPDATE_USER_FAIL":return Y(e,t);case"GET_USER_DETAIL_START":return K(e);case"GET_USER_DETAIL_SUCCESS":return Z(e,t);case"GET_USER_DETAIL_FAIL":return J(e,t);default:return e}},Q=Object(c.combineReducers)({errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ERRORS":return{msg:t.payload.msg,status:t.payload.status};default:return e}},messages:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_MESSAGE":return t.payload;default:return e}},auth:v,schools:P,users:$}),X=[m.a],ee=Object(c.createStore)(Q,{},Object(i.composeWithDevTools)(c.applyMiddleware.apply(void 0,X))),te=ee,ae=a(12),ne=a(13),re=a(15),le=a(14),se=a(16),oe=(a(258),a(24)),ce=a(164),ie=(a(259),a(26)),me=a.n(ie),ue=function(e,t){return{type:"GET_ERRORS",payload:{msg:e,status:t}}},de=function(e){return function(t){t({type:"GET_USER_LIST_START"}),me.a.defaults.headers={"Content-Type":"application/json",Authorization:"Token ".concat(e)},me.a.get("http://127.0.0.1:8000/users/").then((function(e){var a=e.data;t(function(e){return{type:"GET_USER_LIST_SUCCESS",users:e}}(a))})).catch((function(e){var a;t({type:"GET_USER_LIST_FAIL",error:a})}))}},pe=function(e,t){return function(a){a({type:"DELETE_USER_START"}),me.a.defaults.headers={"Content-Type":"application/json",Authorization:"Token ".concat(e)},me.a.delete("http://127.0.0.1:8000/users/".concat(t,"/")).then((function(e){var t=e.data;a(function(e){return{type:"DELETE_USER_SUCCESS",user:e}}(t))})).catch((function(e){var t;a({type:"DELETE_USER_FAIL",error:t})}))}},he=function(e,t,a){return function(n){n({type:"UPDATE_USER_START"}),me.a.defaults.headers={"Content-Type":"application/json",Authorization:"Token ".concat(e)},me.a.put("http://127.0.0.1:8000/users/".concat(t,"/"),a).then((function(e){var t=e.data;n(function(e){return{type:"UPDATE_USER_SUCCESS",user:e}}(t))})).catch((function(e){n(ue(e.response.data,e.response.status)),n({type:"UPDATE_USER_FAIL",error:e})}))}},Ee=function(e,t){return function(a){a({type:"GET_USER_DETAIL_START"}),me.a.defaults.headers={"Content-Type":"application/json",Authorization:"Token ".concat(e)},me.a.get("http://127.0.0.1:8000/users/".concat(t,"/")).then((function(e){var t=e.data;a(function(e){return{type:"GET_USER_DETAIL_SUCCESS",user:e}}(t))})).catch((function(e){var t;a({type:"GET_USER_DETAIL_FAIL",error:t})}))}},fe=function(e){return e.children},ge=function(e){function t(){return Object(ae.a)(this,t),Object(re.a)(this,Object(le.a)(t).apply(this,arguments))}return Object(se.a)(t,e),Object(ne.a)(t,[{key:"componentDidMount",value:function(){void 0!==this.props.token&&null!==this.props.token&&this.props.getUsers(this.props.token)}},{key:"componentWillReceiveProps",value:function(e){e.token!==this.props.token&&void 0!==e.token&&null!==e.token&&this.props.getUsers(e.token)}},{key:"render",value:function(){var e,t=this.props,a=t.isAuthenticated,n=t.logout,l=t.user,s="";l.is_system_admin?(e="System Admin",s="/profile/a/".concat(l.userId)):l.is_school_admin?(e="School Admin",s="/profile/t/".concat(l.userId)):l.is_teacher?(e="Teacher",s="/profile/t/".concat(l.userId)):l.is_student&&(e="Student",s="/profile/s/".concat(l.userId));var o=r.a.createElement("div",{className:"navbar navbar-expand-md header-menu-one bg-light"},r.a.createElement("div",{className:"nav-bar-header-one"},r.a.createElement("div",{className:"header-logo"},r.a.createElement(oe.b,{to:"/"},r.a.createElement("img",{src:"/static/assets/img/logo.png",alt:"logo"}))),r.a.createElement("div",{className:"toggle-button sidebar-toggle"},r.a.createElement("button",{type:"button",className:"item-link"},r.a.createElement("span",{className:"btn-icon-wrap"},r.a.createElement("span",null),r.a.createElement("span",null),r.a.createElement("span",null))))),r.a.createElement("div",{className:"d-md-none mobile-nav-bar"},r.a.createElement("button",{className:"navbar-toggler pulse-animation",type:"button","data-toggle":"collapse","data-target":"#mobile-navbar","aria-expanded":"false"},r.a.createElement("i",{className:"far fa-arrow-alt-circle-down"})),r.a.createElement("button",{type:"button",className:"navbar-toggler sidebar-toggle-mobile"},r.a.createElement("i",{className:"fas fa-bars"}))),r.a.createElement("div",{className:"header-main-menu collapse navbar-collapse",id:"mobile-navbar"},r.a.createElement("ul",{className:"navbar-nav"},r.a.createElement("li",{className:"navbar-item header-search-bar"},r.a.createElement("div",{className:"input-group stylish-input-group"},r.a.createElement("span",{className:"input-group-addon"},r.a.createElement("button",{type:"submit"},r.a.createElement("span",{className:"flaticon-search","aria-hidden":"true"}))),r.a.createElement("input",{type:"text",className:"form-control",placeholder:"Find Something . . ."})))),r.a.createElement("ul",{className:"navbar-nav"},r.a.createElement("li",{className:"navbar-item dropdown header-admin"},r.a.createElement("a",{className:"navbar-nav-link dropdown-toggle",href:"#",role:"button","data-toggle":"dropdown","aria-expanded":"false"},r.a.createElement("div",{className:"admin-title"},r.a.createElement("h5",{className:"item-title"},l.first_name," ",l.last_name),r.a.createElement("span",null,e)),r.a.createElement("div",{className:"admin-img"},r.a.createElement("img",{src:"/static/assets/img/figure/admin.jpg",alt:"Admin"}))),r.a.createElement("div",{className:"dropdown-menu dropdown-menu-right"},r.a.createElement("div",{className:"item-header"},r.a.createElement("h6",{className:"item-title"},l.first_name," ",l.last_name)),r.a.createElement("div",{className:"item-content"},r.a.createElement("ul",{className:"settings-list"},r.a.createElement("li",null,r.a.createElement(oe.b,{to:s},r.a.createElement("i",{className:"flaticon-user"}),"My Profile")),r.a.createElement("li",null,r.a.createElement("a",{href:"#"},r.a.createElement("i",{className:"flaticon-list"}),"Task")),r.a.createElement("li",null,r.a.createElement("a",{href:"#"},r.a.createElement("i",{className:"flaticon-chat-comment-oval-speech-bubble-with-text-lines"}),"Message")),r.a.createElement("li",null,r.a.createElement("a",{href:"#"},r.a.createElement("i",{className:"flaticon-gear-loading"}),"Account Settings")),r.a.createElement("li",null,r.a.createElement("a",{onClick:n,href:"#"},r.a.createElement("i",{className:"flaticon-turn-off"}),"Log Out")))))),r.a.createElement("li",{className:"navbar-item dropdown header-notification"},r.a.createElement("a",{className:"navbar-nav-link dropdown-toggle",href:"#",role:"button","data-toggle":"dropdown","aria-expanded":"false"},r.a.createElement("i",{className:"far fa-bell"}),r.a.createElement("div",{className:"item-title d-md-none text-16 mg-l-10"},"Notification"),r.a.createElement("span",null,"8")),r.a.createElement("div",{className:"dropdown-menu dropdown-menu-right"},r.a.createElement("div",{className:"item-header"},r.a.createElement("h6",{className:"item-title"},"03 Notifiacations")),r.a.createElement("div",{className:"item-content"},r.a.createElement("div",{className:"media"},r.a.createElement("div",{className:"item-icon bg-skyblue"},r.a.createElement("i",{className:"fas fa-check"})),r.a.createElement("div",{className:"media-body space-sm"},r.a.createElement("div",{className:"post-title"},"Complete Your Registration"),r.a.createElement("span",null,"1 Mins ago"))),r.a.createElement("div",{className:"media"},r.a.createElement("div",{className:"item-icon bg-orange"},r.a.createElement("i",{className:"fas fa-calendar-alt"})),r.a.createElement("div",{className:"media-body space-sm"},r.a.createElement("div",{className:"post-title"},"Director Meeting"),r.a.createElement("span",null,"20 Mins ago"))),r.a.createElement("div",{className:"media"},r.a.createElement("div",{className:"item-icon bg-violet-blue"},r.a.createElement("i",{className:"fas fa-cogs"})),r.a.createElement("div",{className:"media-body space-sm"},r.a.createElement("div",{className:"post-title"},"Update Password"),r.a.createElement("span",null,"45 Mins ago")))))),r.a.createElement("li",{className:"navbar-item dropdown header-language"},r.a.createElement("a",{className:"navbar-nav-link dropdown-toggle",href:"#",role:"button","data-toggle":"dropdown","aria-expanded":"false"},r.a.createElement("i",{className:"fas fa-globe-americas"}),"EN"),r.a.createElement("div",{className:"dropdown-menu dropdown-menu-right"},r.a.createElement("a",{className:"dropdown-item",href:"#"},"English"),r.a.createElement("a",{className:"dropdown-item",href:"#"},"Spanish"),r.a.createElement("a",{className:"dropdown-item",href:"#"},"Franchis"),r.a.createElement("a",{className:"dropdown-item",href:"#"},"Chiness"))))));return r.a.createElement("div",null,a?o:"")}}]),t}(n.Component),ye=Object(o.b)((function(e){return{token:e.auth.token,users:e.users.users,loading:e.users.loading}}),(function(e){return{getUsers:function(t){return e(de(t))}}}))(ge),_e=function(e){function t(){return Object(ae.a)(this,t),Object(re.a)(this,Object(le.a)(t).apply(this,arguments))}return Object(se.a)(t,e),Object(ne.a)(t,[{key:"render",value:function(){return r.a.createElement("footer",{className:"footer-wrap-layout1"},r.a.createElement("div",{className:"copyright"},"\xa9 Copyrights ",r.a.createElement("a",{href:"#"},"Eco Dev System")," 2020. ",r.a.createElement("a",{href:"#"})))}}]),t}(n.Component),ve=(a(173).a.SubMenu,function(e){function t(){var e,a;Object(ae.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(re.a)(this,(e=Object(le.a)(t)).call.apply(e,[this].concat(r)))).rootSubmenuKeys=["dashboard","schools","teachers","students"],a.state={admin_links:[],schooladmin_links:[],teacher_links:[],student_links:[],openKeys:["dashboard"],collapsed:!1},a.toggleCollapsed=function(){a.setState({collapsed:!a.state.collapsed})},a.onOpenChange=function(e){var t=e.find((function(e){return-1===a.state.openKeys.indexOf(e)}));-1===a.rootSubmenuKeys.indexOf(t)?a.setState({openKeys:e}):a.setState({openKeys:t?[t]:[]})},a}return Object(se.a)(t,e),Object(ne.a)(t,[{key:"componentDidMount",value:function(){var e={icon:"flaticon-dashboard",key:"dashboard",dropdownTitleLink:"/",dropdownTitle:"Dashboard",dropdowns:[]},t={icon:"flaticon-multiple-users-silhouette",key:"teachers",dropdownTitleLink:" #",dropdownTitle:" Teachers",dropdowns:[{link:"/teacher/all-teachers",linkTitle:"All Teacher"},{link:"/teacher/register-teacher",linkTitle:"Add Teacher"}]},a={icon:"flaticon-classmates",key:"students",dropdownTitleLink:"#",dropdownTitle:" Students",dropdowns:[{link:"/student/all-students",linkTitle:"All Students"},{link:"/student/register-student",linkTitle:"Add Student"}]};this.state.admin_links.push(e,{icon:"flaticon-multiple-users-silhouette",key:"schools",dropdownTitleLink:"#",dropdownTitle:" Schools",dropdowns:[{link:"/school/all-schools",linkTitle:"All Schools"},{link:"/school/register-school",linkTitle:"Add School"}]},t,a),this.state.schooladmin_links.push(e,t,a),this.state.teacher_links.push(e,a),this.state.student_links.push(e)}},{key:"render",value:function(){var e,t=this.props,a=t.isAuthenticated,n=t.user,l=this.state.admin_links.map((function(e,t){return r.a.createElement("li",{key:t,className:"nav-item sidebar-nav-item"},r.a.createElement(oe.b,{to:e.dropdownTitleLink,className:"nav-link"},r.a.createElement("i",{className:e.icon}),r.a.createElement("span",null,e.dropdownTitle)),0!==e.dropdowns.length?r.a.createElement("ul",{className:"nav sub-group-menu"},e.dropdowns.map((function(e,t){return r.a.createElement("li",{key:t,className:"nav-item"},r.a.createElement(oe.b,{to:e.link,className:"nav-link"},r.a.createElement("i",{className:"fas fa-angle-right"}),e.linkTitle))}))):"")})),s=this.state.schooladmin_links.map((function(e,t){return r.a.createElement("li",{key:t,className:"nav-item sidebar-nav-item"},r.a.createElement(oe.b,{to:e.dropdownTitleLink,className:"nav-link"},r.a.createElement("i",{className:e.icon}),r.a.createElement("span",null,e.dropdownTitle)),0!==e.dropdowns.length?r.a.createElement("ul",{className:"nav sub-group-menu"},e.dropdowns.map((function(e,t){return r.a.createElement("li",{key:t,className:"nav-item"},r.a.createElement(oe.b,{to:e.link,className:"nav-link"},r.a.createElement("i",{className:"fas fa-angle-right"}),e.linkTitle))}))):"")})),o=this.state.teacher_links.map((function(e,t){return r.a.createElement("li",{key:t,className:"nav-item sidebar-nav-item"},r.a.createElement(oe.b,{to:e.dropdownTitleLink,className:"nav-link"},r.a.createElement("i",{className:e.icon}),r.a.createElement("span",null,e.dropdownTitle)),0!==e.dropdowns.length?r.a.createElement("ul",{className:"nav sub-group-menu"},e.dropdowns.map((function(e,t){return r.a.createElement("li",{key:t,className:"nav-item"},r.a.createElement(oe.b,{to:e.link,className:"nav-link"},r.a.createElement("i",{className:"fas fa-angle-right"}),e.linkTitle))}))):"")})),c=this.state.student_links.map((function(e,t){return r.a.createElement("li",{key:t,className:"nav-item sidebar-nav-item"},r.a.createElement(oe.b,{to:e.dropdownTitleLink,className:"nav-link"},r.a.createElement("i",{className:e.icon}),r.a.createElement("span",null,e.dropdownTitle)),0!==e.dropdowns.length?r.a.createElement("ul",{className:"nav sub-group-menu"},e.dropdowns.map((function(e,t){return r.a.createElement("li",{key:t,className:"nav-item"},r.a.createElement(oe.b,{to:e.link,className:"nav-link"},r.a.createElement("i",{className:"fas fa-angle-right"}),e.linkTitle))}))):"")}));n.is_system_admin?e=l:n.is_school_admin?e=s:n.is_teacher?e=o:n.is_student&&(e=c);var i=r.a.createElement("div",{className:"sidebar-main sidebar-menu-one sidebar-expand-md sidebar-color"},r.a.createElement("div",{className:"mobile-sidebar-header d-md-none"},r.a.createElement("div",{className:"header-logo"},r.a.createElement(oe.b,{to:"/"},r.a.createElement("img",{src:"/static/assets/img/logo1.png",alt:"logo"})))),r.a.createElement("div",{className:"sidebar-menu-content"},r.a.createElement("ul",{className:"nav nav-sidebar-menu sidebar-toggle-view"},e)));return r.a.createElement(fe,null,a?i:"")}}]),t}(n.Component)),be=function(e){return{type:"AUTH_SUCCESS",user:e}},Se=function(e){return{type:"AUTH_FAIL",error:e}},ke=function(){return localStorage.removeItem("user"),{type:"AUTH_LOGOUT"}},Ne=function(e){return function(t){setTimeout((function(){t(ke())}),1e3*e)}},Oe=function(e,t,a,n,r,l,s,o,c,i,m){return function(u){u({type:"AUTH_START"});var d={first_name:e,last_name:t,username:a,email:n,password1:r,password2:l,school:s,is_student:o,is_teacher:c,is_school_admin:i,is_system_admin:m};me.a.post("http://127.0.0.1:8000/rest-auth/registration/",d).then((function(e){})).catch((function(e){u(ue(e.response.data,e.response.status)),u(Se(e))}))}},Te=function(){return function(e){var t=JSON.parse(localStorage.getItem("user"));if(void 0===t||null===t)e(ke());else{var a=new Date(t.expirationDate);a<=new Date?e(ke()):(e(be(t)),e(Ne((a.getTime()-(new Date).getTime())/1e3)))}}},we=function(e){function t(){var e,a;Object(ae.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(re.a)(this,(e=Object(le.a)(t)).call.apply(e,[this].concat(r)))).state={scripts:[]},a}return Object(se.a)(t,e),Object(ne.a)(t,[{key:"componentWillMount",value:function(){this.state.scripts.push({src:"/static/assets/js/main.js"})}},{key:"componentDidMount",value:function(){this.props.onTryAutoSignup()}},{key:"render",value:function(){return this.props.isAuthenticated&&this.state.scripts.map((function(e){var t=document.createElement("script");t.src=e.src,t.async=!0,document.body.appendChild(t)})),r.a.createElement("div",null,r.a.createElement("div",{id:"preloader"}),r.a.createElement("div",{id:"wrapper",className:"wrapper"},r.a.createElement(ye,this.props),r.a.createElement("div",{className:"dashboard-page"},r.a.createElement(ve,this.props),r.a.createElement("div",{className:"dashboard-content"},this.props.children,r.a.createElement(_e,this.props)))))}}]),t}(n.Component),Ce=Object(o.b)((function(e){return{user:e.auth,isAuthenticated:null!==e.auth.token}}),(function(e){return{onTryAutoSignup:function(){return e(Te())},logout:function(){return e(ke())}}}))(we),je=function(e){function t(){return Object(ae.a)(this,t),Object(re.a)(this,Object(le.a)(t).apply(this,arguments))}return Object(se.a)(t,e),Object(ne.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.error,n=t.alert,r=t.message;a!==e.error&&(a.msg.name&&n.error("Name: ".concat(a.msg.name.join())),a.msg.email&&n.error("Email: ".concat(a.msg.email.join())),a.msg.message&&n.error("Message: ".concat(a.msg.message.join())),a.msg.non_field_errors&&n.error(a.msg.non_field_errors.join()),a.msg.username&&n.error(a.msg.username.join())),r!==e.message&&(r.deleteLead&&n.success(r.deleteLead),r.addLead&&n.success(r.addLead),r.passwordNotMatch&&n.error(r.passwordNotMatch))}},{key:"render",value:function(){return r.a.createElement(n.Fragment,null)}}]),t}(n.Component),Ie=(Object(o.b)((function(e){return{error:e.errors,message:e.messages}}))(Object(ce.a)(je)),a(68)),Ae=a(497),De=a(8),Le=a(124),xe=a(498),Ue=a(47),Re=Ae.a.Item,Pe=r.a.createElement(De.a,{type:"loading",style:{fontSize:24},spin:!0}),Fe=function(e){function t(){var e,a;Object(ae.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(re.a)(this,(e=Object(le.a)(t)).call.apply(e,[this].concat(r)))).handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields((function(e,t){e||(a.props.onAuth(t.userName,t.password),a.props.history.push("/"))}))},a}return Object(se.a)(t,e),Object(ne.a)(t,[{key:"render",value:function(){if(this.props.isAuthenticated)return r.a.createElement(Ie.a,{to:"/"});var e=null;this.props.error&&(e=r.a.createElement("p",null,this.props.error.message));var t=this.props.form.getFieldDecorator;return r.a.createElement("div",{className:"col-md-4 m-auto"},r.a.createElement("div",{className:"card card-body mt-5"},e,r.a.createElement("h2",null,"Login"),this.props.loading?r.a.createElement(Le.a,{indicator:Pe}):r.a.createElement(Ae.a,{onSubmit:this.handleSubmit,className:"login-form"},r.a.createElement(Re,null,t("userName",{rules:[{required:!0,message:"Please input your username!"}]})(r.a.createElement(xe.a,{prefix:r.a.createElement(De.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Username"}))),r.a.createElement(Re,null,t("password",{rules:[{required:!0,message:"Please input your Password!"}]})(r.a.createElement(xe.a,{prefix:r.a.createElement(De.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password"}))),r.a.createElement(Re,null,r.a.createElement(Ue.a,{type:"primary",htmlType:"submit",style:{marginRight:"10px"}},"Login")))))}}]),t}(r.a.Component),qe=Ae.a.create()(Fe),Ve=Object(o.b)((function(e){return{isAuthenticated:e.auth.token,loading:e.auth.loading,error:e.auth.error}}),(function(e){return{onAuth:function(t,a){return e(function(e,t){return function(a){a({type:"AUTH_START"}),me.a.post("http://127.0.0.1:8000/rest-auth/login/",{username:e,password:t}).then((function(t){var n={token:t.data.key,first_name:t.data.user_type.first_name,last_name:t.data.user_type.last_name,username:e,userId:t.data.user,schoolId:t.data.user_type.school,is_student:t.data.user_type.is_student,is_teacher:t.data.user_type.is_teacher,is_school_admin:t.data.user_type.is_school_admin,is_system_admin:t.data.user_type.is_system_admin,expirationDate:new Date((new Date).getTime()+36e5)};localStorage.setItem("user",JSON.stringify(n)),a(be(n)),a(Ne(3600))})).catch((function(e){a(Se(e))}))}}(t,a))}}}))(qe),Me=a(246),He=a(505),Ge=Object(o.b)((function(e){return{auth:e.auth}}))((function(e){var t=e.component,a=e.auth,n=Object(Me.a)(e,["component","auth"]);return r.a.createElement(Ie.b,Object.assign({},n,{render:function(e){return a.loading?r.a.createElement(He.a,{animation:"border"}):a.token?r.a.createElement(t,e):r.a.createElement(Ie.a,{to:"/login"})}}))})),ze=(n.Component,function(e){function t(){return Object(ae.a)(this,t),Object(re.a)(this,Object(le.a)(t).apply(this,arguments))}return Object(se.a)(t,e),Object(ne.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"breadcrumbs-area"},r.a.createElement("h3",null,"Admin Dashboard"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("a",{href:"/"},"Home")),r.a.createElement("li",null,"Admin"))),r.a.createElement("div",{className:"row gutters-20"},r.a.createElement("div",{className:"col-xl-3 col-sm-6 col-12"},r.a.createElement("div",{className:"dashboard-summery-one mg-b-20"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-6"},r.a.createElement("div",{className:"item-icon bg-light-green "},r.a.createElement("i",{className:"flaticon-classmates text-green"}))),r.a.createElement("div",{className:"col-6"},r.a.createElement("div",{className:"item-content"},r.a.createElement("div",{className:"item-title"},"Students"),r.a.createElement("div",{className:"item-number"},r.a.createElement("span",{className:"counter","data-num":"150000"},"1,50,000"))))))),r.a.createElement("div",{className:"col-xl-3 col-sm-6 col-12"},r.a.createElement("div",{className:"dashboard-summery-one mg-b-20"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-6"},r.a.createElement("div",{className:"item-icon bg-light-blue"},r.a.createElement("i",{className:"flaticon-multiple-users-silhouette text-blue"}))),r.a.createElement("div",{className:"col-6"},r.a.createElement("div",{className:"item-content"},r.a.createElement("div",{className:"item-title"},"Teachers"),r.a.createElement("div",{className:"item-number"},r.a.createElement("span",{className:"counter","data-num":"2250"},"2,250"))))))),r.a.createElement("div",{className:"col-xl-3 col-sm-6 col-12"},r.a.createElement("div",{className:"dashboard-summery-one mg-b-20"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-6"},r.a.createElement("div",{className:"item-icon bg-light-yellow"},r.a.createElement("i",{className:"flaticon-couple text-orange"}))),r.a.createElement("div",{className:"col-6"},r.a.createElement("div",{className:"item-content"},r.a.createElement("div",{className:"item-title"},"School Admin"),r.a.createElement("div",{className:"item-number"},r.a.createElement("span",{className:"counter","data-num":"5690"},"5,690"))))))),r.a.createElement("div",{className:"col-xl-3 col-sm-6 col-12"},r.a.createElement("div",{className:"dashboard-summery-one mg-b-20"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-6"},r.a.createElement("div",{className:"item-icon bg-light-red"},r.a.createElement("i",{className:"flaticon-money text-red"}))),r.a.createElement("div",{className:"col-6"},r.a.createElement("div",{className:"item-content"},r.a.createElement("div",{className:"item-title"},"Earnings"),r.a.createElement("div",{className:"item-number"},r.a.createElement("span",null,"$"),r.a.createElement("span",{className:"counter","data-num":"193000"},"1,93,000")))))))))}}]),t}(n.Component)),We=function(e){function t(){return Object(ae.a)(this,t),Object(re.a)(this,Object(le.a)(t).apply(this,arguments))}return Object(se.a)(t,e),Object(ne.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"breadcrumbs-area"},r.a.createElement("h3",null,"Teacher Dashboard"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("a",{href:"/"},"Home")),r.a.createElement("li",null,"Teachers"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 col-4-xxxl"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-6-xxxl col-lg-3 col-sm-6 col-12"},r.a.createElement("div",{className:"dashboard-summery-two"},r.a.createElement("div",{className:"item-icon bg-light-magenta"},r.a.createElement("i",{className:"flaticon-classmates text-magenta"})),r.a.createElement("div",{className:"item-content"},r.a.createElement("div",{className:"item-number"},r.a.createElement("span",{className:"counter","data-num":"35000"},"35,000")),r.a.createElement("div",{className:"item-title"},"Total Students")))),r.a.createElement("div",{className:"col-6-xxxl col-lg-3 col-sm-6 col-12"},r.a.createElement("div",{className:"dashboard-summery-two"},r.a.createElement("div",{className:"item-icon bg-light-blue"},r.a.createElement("i",{className:"flaticon-shopping-list text-blue"})),r.a.createElement("div",{className:"item-content"},r.a.createElement("div",{className:"item-number"},r.a.createElement("span",{className:"counter","data-num":"19050"},"19,050")),r.a.createElement("div",{className:"item-title"},"Total Exams")))),r.a.createElement("div",{className:"col-6-xxxl col-lg-3 col-sm-6 col-12"},r.a.createElement("div",{className:"dashboard-summery-two"},r.a.createElement("div",{className:"item-icon bg-light-yellow"},r.a.createElement("i",{className:"flaticon-mortarboard text-orange"})),r.a.createElement("div",{className:"item-content"},r.a.createElement("div",{className:"item-number"},r.a.createElement("span",{className:"counter","data-num":"23890"},"23,890")),r.a.createElement("div",{className:"item-title"},"Graduate Studes")))),r.a.createElement("div",{className:"col-6-xxxl col-lg-3 col-sm-6 col-12"},r.a.createElement("div",{className:"dashboard-summery-two"},r.a.createElement("div",{className:"item-icon bg-light-red"},r.a.createElement("i",{className:"flaticon-money text-red"})),r.a.createElement("div",{className:"item-content"},r.a.createElement("div",{className:"item-number"},r.a.createElement("span",null,"$"),r.a.createElement("span",{className:"counter","data-num":"2102050"},"21,02,050")),r.a.createElement("div",{className:"item-title"},"Total Income"))))))))}}]),t}(n.Component),Be=function(e){function t(){return Object(ae.a)(this,t),Object(re.a)(this,Object(le.a)(t).apply(this,arguments))}return Object(se.a)(t,e),Object(ne.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"breadcrumbs-area"},r.a.createElement("h3",null,"Student Dashboard"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("a",{href:"/"},"Home")),r.a.createElement("li",null,"Student"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-8-xxxl col-12"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-4"},r.a.createElement("div",{className:"dashboard-summery-one"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-6"},r.a.createElement("div",{className:"item-icon bg-light-magenta"},r.a.createElement("i",{className:"flaticon-shopping-list text-magenta"}))),r.a.createElement("div",{className:"col-6"},r.a.createElement("div",{className:"item-content"},r.a.createElement("div",{className:"item-title"},"Notification"),r.a.createElement("div",{className:"item-number"},r.a.createElement("span",{className:"counter","data-num":"12"},"12"))))))),r.a.createElement("div",{className:"col-lg-4"},r.a.createElement("div",{className:"dashboard-summery-one"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-6"},r.a.createElement("div",{className:"item-icon bg-light-blue"},r.a.createElement("i",{className:"flaticon-calendar text-blue"}))),r.a.createElement("div",{className:"col-6"},r.a.createElement("div",{className:"item-content"},r.a.createElement("div",{className:"item-title"},"Events"),r.a.createElement("div",{className:"item-number"},r.a.createElement("span",{className:"counter","data-num":"06"},"06"))))))),r.a.createElement("div",{className:"col-lg-4"},r.a.createElement("div",{className:"dashboard-summery-one"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-6"},r.a.createElement("div",{className:"item-icon bg-light-yellow"},r.a.createElement("i",{className:"flaticon-percentage-discount text-orange"}))),r.a.createElement("div",{className:"col-6"},r.a.createElement("div",{className:"item-content"},r.a.createElement("div",{className:"item-title"},"Attendance"),r.a.createElement("div",{className:"item-number"},r.a.createElement("span",{className:"counter","data-num":"94"},"94"),r.a.createElement("span",null,"%")))))))))))}}]),t}(n.Component),Ye=function(e){function t(){return Object(ae.a)(this,t),Object(re.a)(this,Object(le.a)(t).apply(this,arguments))}return Object(se.a)(t,e),Object(ne.a)(t,[{key:"render",value:function(){var e=this.props.isRole,t=e.is_system_admin,a=e.is_school_admin,n=e.is_teacher,l=e.is_student;return t?r.a.createElement(ze,null):a||n?r.a.createElement(We,null):l?r.a.createElement(Be,null):void 0}}]),t}(n.Component),Ke=Object(o.b)((function(e){return{isRole:e.auth,token:e.auth.token,userId:e.auth.userId}}),(function(e){return{}}))(Ye),Ze=a(99),Je=a(500),$e=function(e){return function(t){t({type:"GET_SCHOOL_LIST_START"}),me.a.defaults.headers={"Content-Type":"application/json",Authorization:"Token ".concat(e)},me.a.get("http://127.0.0.1:8000/schools/").then((function(e){var a=e.data;t(function(e){return{type:"GET_SCHOOL_LIST_SUCCESS",schools:e}}(a))})).catch((function(e){var a;t({type:"GET_SCHOOL_LIST_FAIL",error:a})}))}},Qe=function(e,t){return function(a){a({type:"DELETE_SCHOOL_START"}),me.a.defaults.headers={"Content-Type":"application/json",Authorization:"Token ".concat(e)},me.a.delete("http://127.0.0.1:8000/schools/".concat(t,"/")).then((function(e){var t=e.data;a(function(e){return{type:"DELETE_SCHOOL_SUCCESS",school:e}}(t))})).catch((function(e){var t;a({type:"DELETE_SCHOOL_FAIL",error:t})}))}},Xe=function(e){return{type:"UPDATE_SCHOOL_SUCCESS",school:e}},et=function(e){return{type:"UPDATE_SCHOOL_FAIL",error:e}},tt=function(e,t){return function(a){a({type:"GET_SCHOOL_DETAIL_START"}),me.a.defaults.headers={"Content-Type":"application/json",Authorization:"Token ".concat(e)},me.a.get("http://127.0.0.1:8000/schools/".concat(t,"/")).then((function(e){var t=e.data;a(function(e){return{type:"GET_SCHOOL_DETAIL_SUCCESS",school:e}}(t))})).catch((function(e){var t;a({type:"GET_SCHOOL_DETAIL_FAIL",error:t})}))}},at=a(91),nt=a(55),rt=a(495),lt=a(493),st=a(506),ot=Ze.a.Option,ct=(n.Component,Ae.a.Item),it=Ze.a.Option,mt=(Je.a.Step,function(e){function t(e){var a;return Object(ae.a)(this,t),(a=Object(re.a)(this,Object(le.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault(),a.props.form.validateFieldsAndScroll((function(e,t){if(!e){var n=!1,r=!1;"teacher"===t.userType?(n=!0,r=!1):"schooladmin"===t.userType&&(r=!0,n=!1),a.props.onAuth(t.first_name,t.last_name,t.username,t.email,t.password1,t.password2,t.school,!1,n,r,!1),a.props.history.push("/teacher/all-teachers")}}))},a.handleConfirmBlur=function(e){var t=e.target.value;a.setState({confirmDirty:a.state.confirmDirty||!!t})},a.compareToFirstPassword=function(e,t,n){var r=a.props.form;t&&t!==r.getFieldValue("password1")?n("Two passwords that you enter is inconsistent!"):n()},a.validateToNextPassword=function(e,t,n){var r=a.props.form;t&&a.state.confirmDirty&&r.validateFields(["password2"],{force:!0}),n()},a.normFile=function(e){return console.log("Upload event:",e),Array.isArray(e)?e:e&&e.fileList},a.handleReset=function(){a.props.form.resetFields()},a.state={confirmDirty:!1,current:0},a}return Object(se.a)(t,e),Object(ne.a)(t,[{key:"componentDidMount",value:function(){void 0!==this.props.token&&null!==this.props.token&&this.props.getSchools(this.props.token)}},{key:"componentWillReceiveProps",value:function(e){e.token!==this.props.token&&void 0!==e.token&&null!==e.token&&this.props.getSchools(e.token)}},{key:"next",value:function(){var e=this.state.current+1;this.setState({current:e})}},{key:"prev",value:function(){var e=this.state.current-1;this.setState({current:e})}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.props.isRole,a=t.is_system_admin,n=t.is_school_admin,l=(this.state.current,this.props.schools.map((function(e,t){return r.a.createElement(it,{key:e.id,value:e.id},e.name)})));return r.a.createElement("div",null,a||n?r.a.createElement("div",null,r.a.createElement(Ae.a,{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"col-md-6 m-auto card card-body mt-5"},r.a.createElement("h2",null,"Teacher Registration"),r.a.createElement(ct,null,e("first_name",{rules:[{required:!0,message:"Please input your first name!"}]})(r.a.createElement(xe.a,{prefix:r.a.createElement(De.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"First Name"}))),r.a.createElement(ct,null,e("last_name",{rules:[{required:!0,message:"Please input your last name!"}]})(r.a.createElement(xe.a,{prefix:r.a.createElement(De.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Last Name"}))),r.a.createElement(ct,null,e("username",{rules:[{required:!0,message:"Please input your username!"}]})(r.a.createElement(xe.a,{prefix:r.a.createElement(De.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Username"}))),r.a.createElement(ct,null,e("email",{rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}]})(r.a.createElement(xe.a,{prefix:r.a.createElement(De.a,{type:"mail",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Email"}))),r.a.createElement(ct,null,e("password1",{rules:[{required:!0,message:"Please input your password!"},{validator:this.validateToNextPassword}]})(r.a.createElement(xe.a,{prefix:r.a.createElement(De.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password"}))),r.a.createElement(ct,null,e("password2",{rules:[{required:!0,message:"Please confirm your password!"},{validator:this.compareToFirstPassword}]})(r.a.createElement(xe.a,{prefix:r.a.createElement(De.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password",onBlur:this.handleConfirmBlur}))),r.a.createElement(ct,null,e("school",{rules:[{required:!0,message:"Please select a user!"}]})(r.a.createElement(Ze.a,{placeholder:"Select a school"},l))),r.a.createElement(ct,null,n&&!a?e("userType",{initialValue:"teacher",rules:[{required:!0,message:"Please select a user!"}]})(r.a.createElement(Ze.a,{placeholder:"Select a user type"},r.a.createElement(it,{value:"teacher"},"Teacher"))):e("userType",{rules:[{required:!0,message:"Please select a user!"}]})(r.a.createElement(Ze.a,{placeholder:"Select a user type"},r.a.createElement(it,{value:"schooladmin"},"School Admin"),r.a.createElement(it,{value:"teacher"},"Teacher")))),r.a.createElement(ct,null,r.a.createElement(Ue.a,{type:"primary",htmlType:"submit",style:{marginRight:"10px"}},"Register Teacher"))))):null)}}]),t}(r.a.Component)),ut=Ae.a.create()(mt),dt=Object(o.b)((function(e){return{token:e.auth.token,isRole:e.auth,loading:e.auth.loading,schools:e.schools.schools,error:e.auth.error}}),(function(e){return{getSchools:function(t){return e($e(t))},onAuth:function(t,a,n,r,l,s,o,c,i,m,u){return e(Oe(t,a,n,r,l,s,o,c,i,m,u))}}}))(ut),pt=a(496),ht=a(504),Et=a(503),ft=a(507),gt=a(508),yt=a(509),_t=a(21),vt=a.n(_t),bt=a(502),St=function(e){function t(){var e,a;Object(ae.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(re.a)(this,(e=Object(le.a)(t)).call.apply(e,[this].concat(r)))).state={fileList:[],uploading:!1},a.handleUpload=function(){var e=a.state.fileList,t=new FormData;t.append("image",e[0],e[0].name),a.setState({uploading:!0}),me.a.defaults.headers={"Content-Type":"multipart/form-data",Authorization:"Token ".concat(a.props.token)},me.a.put("http://127.0.0.1:8000/teachers-image/".concat(a.props.currentTeacher.teachers[0].id,"/"),t).then((function(e){a.setState({fileList:[],uploading:!1}),bt.a.success("upload successfully."),console.log(e)})).catch((function(e){a.setState({uploading:!1}),bt.a.error("sorry error has occured.",e),console.log(e)}))},a}return Object(se.a)(t,e),Object(ne.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.uploading,n=t.fileList,l={multiple:!1,showUploadList:{showDownloadIcon:!1},onRemove:function(t){e.setState((function(e){return{fileList:[]}}))},beforeUpload:function(t){return e.setState((function(e){return{fileList:[t]}})),!1},fileList:n};return r.a.createElement("div",null,r.a.createElement(rt.a,Object.assign({},l,{accept:".jpg,.png"}),r.a.createElement(Ue.a,null,r.a.createElement(st.a,null)," Select File")),r.a.createElement(Ue.a,{type:"primary",onClick:this.handleUpload,disabled:0===n.length,loading:a,style:{marginTop:16}},a?"Uploading":"Start Upload"))}}]),t}(r.a.Component),kt=Object(o.b)((function(e){return{token:e.auth.token,is_system_admin:e.auth.is_system_admin,username:e.auth.username,currentTeacher:e.users.currentUser,loading:e.users.loading,error:e.users.error}}))(St),Nt=Ze.a.Option,Ot=function(e){function t(){var e,a;Object(ae.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(re.a)(this,(e=Object(le.a)(t)).call.apply(e,[this].concat(r)))).state={confirmDirty:!1},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields((function(e,t){if(!e){console.log("Received values of form: ",t);var n=!1,r=!1;"teacher"===t.userType?(n=!0,r=!1):"schooladmin"===t.userType&&(r=!0,n=!1);var l=[];l.push({image:t.image,date_of_birth:t.date_of_birth,gender:t.gender,street:t.street,city:t.city,state:t.state,country:t.country,zip_code:t.zip_code,years_of_experience:t.years_of_experience,academic_qualification:t.academic_qualification,phone:t.phone,emergency_contact1:t.emergency_contact1,emergency_contact2:t.emergency_contact2,blood_group:t.blood_group});var s={first_name:t.first_name,last_name:t.last_name,username:t.username,email:t.email,is_student:!1,is_teacher:n,is_school_admin:r,is_system_admin:!1,teachers:l};a.props.updateUser(a.props.token,a.props.match.params.id,s)}}))},a.normFile=function(e){return console.log("Upload event:",e),Array.isArray(e)?e:e&&e.fileList},a}return Object(se.a)(t,e),Object(ne.a)(t,[{key:"componentDidMount",value:function(){void 0!==this.props.token&&null!==this.props.token&&this.props.getUserDetail(this.props.token,this.props.match.params.id)}},{key:"componentWillReceiveProps",value:function(e){e.token!==this.props.token&&void 0!==e.token&&null!==e.token&&this.props.getUserDetail(e.token,this.props.match.params.id)}},{key:"render",value:function(){var e,t=this.props.form.getFieldDecorator,a=this.props.currentTeacher,n=a.first_name,l=a.last_name,s=a.username,o=a.email,c=a.is_teacher,i=a.is_school_admin,m=(a.is_system_admin,a.school,a.teachers);return i?e="schooladmin":c&&(e="teacher"),r.a.createElement("div",null,(this.props.is_system_admin||this.props.is_school_admin||this.props.is_school_admin&&this.props.userId==this.props.match.params.id||this.props.is_teacher&&this.props.userId==this.props.match.params.id)&&Object.keys(a).length>0?r.a.createElement("div",null,r.a.createElement(kt,null),r.a.createElement("br",null),r.a.createElement(Ae.a,{onSubmit:this.handleSubmit},r.a.createElement(at.a,{gutter:24},r.a.createElement(nt.a,{span:8},r.a.createElement(Ae.a.Item,{label:"First Name"},t("first_name",{initialValue:n,rules:[{message:"Please input your first name!"}]})(r.a.createElement(xe.a,{prefix:r.a.createElement(De.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"First Name"})))),r.a.createElement(nt.a,{span:8},r.a.createElement(Ae.a.Item,{label:"Last Name"},t("last_name",{initialValue:l,rules:[{required:!0,message:"Please input your last name!"}]})(r.a.createElement(xe.a,{prefix:r.a.createElement(De.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Last Name"})))),r.a.createElement(nt.a,{span:8},r.a.createElement(Ae.a.Item,{label:"Username"},t("username",{initialValue:s,rules:[{required:!0,message:"Please input your username!"}]})(r.a.createElement(xe.a,{prefix:r.a.createElement(De.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Username"})))),r.a.createElement(nt.a,{span:8},r.a.createElement(Ae.a.Item,{label:"Email"},t("email",{initialValue:o,rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}]})(r.a.createElement(xe.a,{prefix:r.a.createElement(De.a,{type:"mail",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Email"})))),this.props.is_teacher?null:r.a.createElement(nt.a,{span:8},r.a.createElement(Ae.a.Item,{label:"Select User"},this.props.is_school_admin&&!this.props.is_system_admin?t("userType",{initialValue:e,rules:[{required:!0,message:"Please select a user!"}]})(r.a.createElement(Ze.a,{placeholder:"Select a user type"},r.a.createElement(Nt,{value:"teacher"},"Teacher"))):t("userType",{initialValue:e,rules:[{required:!0,message:"Please select a user!"}]})(r.a.createElement(Ze.a,{placeholder:"Select a user type"},r.a.createElement(Nt,{value:"schooladmin"},"School Admin"),r.a.createElement(Nt,{value:"teacher"},"Teacher"))))),m.map((function(e,a){return r.a.createElement("div",{key:a},r.a.createElement(nt.a,{span:8},r.a.createElement(Ae.a.Item,{label:"Gender"},t("gender",{initialValue:e.gender})(r.a.createElement(Ze.a,{placeholder:"Select your gender"},r.a.createElement(Nt,{value:"male"},"Male"),r.a.createElement(Nt,{value:"female"},"Female"))))),r.a.createElement(nt.a,{span:8},r.a.createElement(Ae.a.Item,{label:"Date of Birth"},t("date_of_birth",{defaultValue:vt()(e.date_of_birth,"YYYY-MM-DD")})(r.a.createElement(lt.a,null)))),r.a.createElement(nt.a,{span:8},r.a.createElement(Ae.a.Item,{label:"Country"},t("country",{initialValue:e.country})(r.a.createElement(Ze.a,{placeholder:"Select your country"},r.a.createElement(Nt,{value:"usa"},"USA"),r.a.createElement(Nt,{value:"nigeria"},"Nigeria"))))),r.a.createElement(nt.a,{span:8},r.a.createElement(Ae.a.Item,{label:"State"},t("state",{initialValue:e.state})(r.a.createElement(Ze.a,{placeholder:"Select your state"},r.a.createElement(Nt,{value:"washinton"},"Washinton"),r.a.createElement(Nt,{value:"imo"},"Imo"))))),r.a.createElement(nt.a,{span:8},r.a.createElement(Ae.a.Item,{label:"City"},t("city",{initialValue:e.city})(r.a.createElement(xe.a,{placeholder:"City"})))),r.a.createElement(nt.a,{span:8},r.a.createElement(Ae.a.Item,{label:"Street"},t("street",{initialValue:e.street})(r.a.createElement(xe.a,{placeholder:"Street"})))),r.a.createElement(nt.a,{span:8},r.a.createElement(Ae.a.Item,{label:"Zip Code"},t("zip_code",{initialValue:e.zip_code})(r.a.createElement(xe.a,{placeholder:"Zip code"})))),r.a.createElement(nt.a,{span:8},r.a.createElement(Ae.a.Item,{label:"Years of Experience (Optional)"},t("years_of_experience",{initialValue:e.years_of_experience})(r.a.createElement(xe.a,{placeholder:"Years of Experience"})))),r.a.createElement(nt.a,{span:8},r.a.createElement(Ae.a.Item,{label:"Academic Qualification"},t("academic_qualification",{initialValue:e.academic_qualification})(r.a.createElement(xe.a,{placeholder:"Academic Qualification"})))),r.a.createElement(nt.a,{span:8},r.a.createElement(Ae.a.Item,{label:"Phone"},t("phone",{initialValue:e.phone})(r.a.createElement(xe.a,{placeholder:"Phone"})))),r.a.createElement(nt.a,{span:8},r.a.createElement(Ae.a.Item,{label:"Emergency Contact1"},t("emergency_contact1",{initialValue:e.emergency_contact1})(r.a.createElement(xe.a,{placeholder:"Emergency Contact1"})))),r.a.createElement(nt.a,{span:8},r.a.createElement(Ae.a.Item,{label:"Emergency Contact2"},t("emergency_contact2",{initialValue:e.emergency_contact2})(r.a.createElement(xe.a,{placeholder:"Emergency Contact2"})))),r.a.createElement(nt.a,{span:8},r.a.createElement(Ae.a.Item,{label:"Blood Group"},t("blood_group",{initialValue:e.blood_group})(r.a.createElement(xe.a,{placeholder:"Blood Group"})))))}))),r.a.createElement(at.a,null,r.a.createElement(nt.a,{span:24,style:{textAlign:"right"}},r.a.createElement(Ue.a,{type:"primary",htmlType:"submit"},"Save"))))):null)}}]),t}(n.Component),Tt=Ae.a.create()(Ot),wt=Object(o.b)((function(e){return{token:e.auth.token,userId:e.auth.userId,schoolId:e.auth.schoolId,is_system_admin:e.auth.is_system_admin,is_school_admin:e.auth.is_school_admin,is_teacher:e.auth.is_teacher,username:e.auth.username,currentTeacher:e.users.currentUser,loading:e.users.loading,error:e.users.error}}),(function(e){return{updateUser:function(t,a,n){return e(he(t,a,n))},getUserDetail:function(t,a){return e(Ee(t,a))}}}))(Tt),Ct=pt.a.Meta,jt=function(e){function t(){var e,a;Object(ae.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(re.a)(this,(e=Object(le.a)(t)).call.apply(e,[this].concat(r)))).handleDelete=function(e){a.props.deleteTeacher(a.props.token,e)},a}return Object(se.a)(t,e),Object(ne.a)(t,[{key:"componentDidMount",value:function(){void 0!==this.props.token&&null!==this.props.token&&this.props.getTeachers(this.props.token)}},{key:"componentWillReceiveProps",value:function(e){e.token!==this.props.token&&void 0!==e.token&&null!==e.token&&this.props.getTeachers(e.token)}},{key:"renderItem",value:function(e){var t=this;return r.a.createElement(fe,null,e.is_school_admin||e.is_teacher?r.a.createElement(ht.a.Item,{key:e.id},r.a.createElement(pt.a,{hoverable:!0,cover:e.teachers.map((function(t,a){return null!==t.image?r.a.createElement("img",{style:{height:100},key:a,alt:e.username,src:t.image}):r.a.createElement("img",{style:{height:100},key:a,src:"/static/assets/img/ECOLOGO.jpg",className:"media-img-auto",alt:e.username})})),actions:[r.a.createElement(oe.b,{to:"/teacher/".concat(e.id)},r.a.createElement(ft.a,{key:"view"})),r.a.createElement(oe.b,{to:"/teacher/".concat(e.id,"/update/")},r.a.createElement(gt.a,{key:"edit"})),r.a.createElement(yt.a,{key:"delete",onClick:function(){return t.handleDelete(e.id)}})]},r.a.createElement(Ct,{title:[e.first_name," ",e.last_name]}))):null)}},{key:"render",value:function(){var e=this;return r.a.createElement(fe,null,this.props.is_system_admin||this.props.is_school_admin?this.props.loading?r.a.createElement(Et.a,{active:!0}):r.a.createElement("div",null,r.a.createElement("h3",{style:{margin:"16px 0"}},"Teacher List"),r.a.createElement(ht.a,{grid:{gutter:16,xs:1,sm:2,md:2,lg:4,xl:4,xxl:3},pagination:{onChange:function(e){console.log(e)},pageSize:6},bordered:!0,dataSource:this.props.teachers,renderItem:function(t){return e.renderItem(t)}})):null)}}]),t}(n.Component),It=Object(o.b)((function(e){return{token:e.auth.token,is_system_admin:e.auth.is_system_admin,is_school_admin:e.auth.is_school_admin,is_teacher:e.auth.is_teacher,schoolId:e.auth.schoolId,teachers:e.users.users,loading:e.users.loading}}),(function(e){return{deleteTeacher:function(t,a){return e(pe(t,a))},getTeachers:function(t){return e(de(t))}}}))(jt),At=a(499),Dt=a(492),Lt=a(510),xt=At.a.confirm,Ut=pt.a.Meta,Rt=function(e){function t(){var e,a;Object(ae.a)(this,t);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(a=Object(re.a)(this,(e=Object(le.a)(t)).call.apply(e,[this].concat(l)))).showConfirmDelete=function(){xt({title:"Do you want to delete these school?",icon:r.a.createElement(Lt.a,null),content:"When clicked the OK button, this dialog will be closed after 1 second",onOk:function(){a.props.deleteTeacher(a.props.token,a.props.match.params.id),a.props.history.push("/teacher/all-teachers")},onCancel:function(){}})},a}return Object(se.a)(t,e),Object(ne.a)(t,[{key:"componentDidMount",value:function(){void 0!==this.props.token&&null!==this.props.token&&this.props.getTeacherDetail(this.props.token,this.props.match.params.id)}},{key:"componentWillReceiveProps",value:function(e){e.token!==this.props.token&&void 0!==e.token&&null!==e.token&&this.props.getTeacherDetail(e.token,this.props.match.params.id)}},{key:"render",value:function(){var e=this.props.currentTeacher,t=e.id,a=e.first_name,n=e.last_name,l=e.username,s=e.email,o=(e.is_school_admin,e.is_teacher,e.school,e.teachers),c=null;try{c=o.map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement("p",null,r.a.createElement("strong",null,"Street: "),e.street))}))}catch(i){}return r.a.createElement("div",null,this.props.is_system_admin||this.props.is_school_admin||this.props.is_school_admin&&this.props.userId==this.props.match.params.id||this.props.is_teacher&&this.props.userId==this.props.match.params.id&&Object.keys(e).length>0?r.a.createElement("div",{className:"m-auto mt-5"},this.props.loading?r.a.createElement(Et.a,{active:!0}):r.a.createElement(pt.a,{extra:r.a.createElement("div",null,r.a.createElement(oe.b,{to:"/teacher/".concat(t,"/update")},r.a.createElement(Ue.a,{type:"primary"},"Edit")),r.a.createElement(Ue.a,{type:"danger",onClick:this.showConfirmDelete},"Delete")),style:{width:"100%"}},r.a.createElement(Ut,{avatar:r.a.createElement(Dt.a,{src:"/static/assets/img/figure/teacher.jpg"}),title:[a," ",n]}),r.a.createElement("br",null),r.a.createElement("p",null,r.a.createElement("strong",null,"Username: "),l),r.a.createElement("p",null,r.a.createElement("strong",null,"Email: "),s),c)):null)}}]),t}(n.Component),Pt=Object(o.b)((function(e){return{token:e.auth.token,userId:e.auth.userId,is_system_admin:e.auth.is_system_admin,is_school_admin:e.auth.is_school_admin,is_teacher:e.auth.is_teacher,schoolId:e.auth.schoolId,currentTeacher:e.users.currentUser,loading:e.users.loading,username:e.auth.username}}),(function(e){return{deleteTeacher:function(t,a){return e(pe(t,a))},getTeacherDetail:function(t,a){return e(Ee(t,a))}}}))(Rt),Ft=Ae.a.Item,qt=Ze.a.Option,Vt=function(e){function t(){var e,a;Object(ae.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(re.a)(this,(e=Object(le.a)(t)).call.apply(e,[this].concat(r)))).state={confirmDirty:!1},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFieldsAndScroll((function(e,t){if(!e){a.props.onAuth(t.first_name,t.last_name,t.username,t.email,t.password1,t.password2,t.school,!0,!1,!1,!1),a.props.history.push("/student/all-students")}}))},a.handleConfirmBlur=function(e){var t=e.target.value;a.setState({confirmDirty:a.state.confirmDirty||!!t})},a.compareToFirstPassword=function(e,t,n){var r=a.props.form;t&&t!==r.getFieldValue("password1")?n("Two passwords that you enter is inconsistent!"):n()},a.validateToNextPassword=function(e,t,n){var r=a.props.form;t&&a.state.confirmDirty&&r.validateFields(["password2"],{force:!0}),n()},a}return Object(se.a)(t,e),Object(ne.a)(t,[{key:"componentDidMount",value:function(){void 0!==this.props.token&&null!==this.props.token&&(this.props.getSchools(this.props.token),this.props.getUsers(this.props.token))}},{key:"componentWillReceiveProps",value:function(e){e.token!==this.props.token&&void 0!==e.token&&null!==e.token&&(this.props.getSchools(e.token),this.props.getUsers(e.token))}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.props.isRole,a=t.is_system_admin,n=t.is_school_admin,l=t.is_teacher,s=this.props.schools.map((function(e,t){return r.a.createElement(qt,{key:e.id,value:e.id},e.name)}));return r.a.createElement("div",{className:"col-md-6 m-auto"},a||n||l?r.a.createElement("div",{className:"card card-body mt-5"},r.a.createElement("h2",null,"Student Registration"),r.a.createElement(Ae.a,{onSubmit:this.handleSubmit},r.a.createElement(Ft,null,e("first_name",{rules:[{required:!0,message:"Please input your first name!"}]})(r.a.createElement(xe.a,{prefix:r.a.createElement(De.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"First Name"}))),r.a.createElement(Ft,null,e("last_name",{rules:[{required:!0,message:"Please input your last name!"}]})(r.a.createElement(xe.a,{prefix:r.a.createElement(De.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Last Name"}))),r.a.createElement(Ft,null,e("username",{rules:[{required:!0,message:"Please input your username!"}]})(r.a.createElement(xe.a,{prefix:r.a.createElement(De.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Username"}))),r.a.createElement(Ft,null,e("email",{rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}]})(r.a.createElement(xe.a,{prefix:r.a.createElement(De.a,{type:"mail",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Email"}))),r.a.createElement(Ft,null,e("password1",{rules:[{required:!0,message:"Please input your password!"},{validator:this.validateToNextPassword}]})(r.a.createElement(xe.a,{prefix:r.a.createElement(De.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password"}))),r.a.createElement(Ft,null,e("password2",{rules:[{required:!0,message:"Please confirm your password!"},{validator:this.compareToFirstPassword}]})(r.a.createElement(xe.a,{prefix:r.a.createElement(De.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password",onBlur:this.handleConfirmBlur}))),r.a.createElement(Ft,null,e("school",{rules:[{required:!0,message:"Please select a user!"}]})(r.a.createElement(Ze.a,{placeholder:"Select a school"},s))),r.a.createElement(Ft,null,r.a.createElement(Ue.a,{type:"primary",htmlType:"submit",style:{marginRight:"10px"}},"Register Student")))):null)}}]),t}(r.a.Component),Mt=Ae.a.create()(Vt),Ht=Object(o.b)((function(e){return{token:e.auth.token,isRole:e.auth,schools:e.schools.schools,students:e.users.users,loading:e.auth.loading,error:e.auth.error}}),(function(e){return{getSchools:function(t){return e($e(t))},getUsers:function(t){return e(de(t))},onAuth:function(t,a,n,r,l,s,o,c,i,m,u){return e(Oe(t,a,n,r,l,s,o,c,i,m,u))}}}))(Mt),Gt=pt.a.Meta,zt=function(e){function t(){var e,a;Object(ae.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(re.a)(this,(e=Object(le.a)(t)).call.apply(e,[this].concat(r)))).handleDelete=function(e){a.props.deleteStudent(a.props.token,e)},a}return Object(se.a)(t,e),Object(ne.a)(t,[{key:"componentDidMount",value:function(){void 0!==this.props.token&&null!==this.props.token&&this.props.getStudents(this.props.token)}},{key:"componentWillReceiveProps",value:function(e){e.token!==this.props.token&&void 0!==e.token&&null!==e.token&&this.props.getStudents(e.token)}},{key:"renderItem",value:function(e){var t=this;return(r.a.createElement(fe,null,e.is_student?r.a.createElement(ht.a.Item,{key:e.id},r.a.createElement(pt.a,{hoverable:!0,cover:e.students.map((function(t,a){return null!==t.image?r.a.createElement("img",{style:{height:100},key:a,alt:e.username,src:t.image}):r.a.createElement("img",{style:{height:100},key:a,src:"/static/assets/img/ECOLOGO.jpg",className:"media-img-auto",alt:e.username})})),actions:[r.a.createElement(oe.b,{to:"/student/".concat(e.id)},r.a.createElement(ft.a,{key:"view"})),r.a.createElement(oe.b,{to:"/student/".concat(e.id,"/update/")},r.a.createElement(gt.a,{key:"edit"})),r.a.createElement(yt.a,{key:"delete",onClick:function(){return t.handleDelete(e.id)}})]},r.a.createElement(Gt,{title:[e.first_name," ",e.last_name]}))):null))}},{key:"render",value:function(){var e=this;return r.a.createElement(fe,null,this.props.is_system_admin||this.props.is_school_admin||this.props.is_teacher?this.props.loading?r.a.createElement(Et.a,{active:!0}):r.a.createElement("div",null,r.a.createElement("h3",{style:{margin:"16px 0"}},"Student List"),r.a.createElement(ht.a,{grid:{gutter:16,xs:1,sm:2,md:2,lg:4,xl:4,xxl:3},pagination:{onChange:function(e){console.log(e)},pageSize:6},bordered:!0,dataSource:this.props.students,renderItem:function(t){return e.renderItem(t)}})):null)}}]),t}(n.Component),Wt=Object(o.b)((function(e){return{token:e.auth.token,is_system_admin:e.auth.is_system_admin,is_school_admin:e.auth.is_school_admin,is_teacher:e.auth.is_teacher,schoolId:e.auth.schoolId,students:e.users.users,loading:e.users.loading}}),(function(e){return{deleteStudent:function(t,a){return e(pe(t,a))},getStudents:function(t){return e(de(t))}}}))(zt),Bt=At.a.confirm,Yt=pt.a.Meta,Kt=function(e){function t(){var e,a;Object(ae.a)(this,t);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(a=Object(re.a)(this,(e=Object(le.a)(t)).call.apply(e,[this].concat(l)))).showConfirmDelete=function(){Bt({title:"Do you want to delete these school?",icon:r.a.createElement(Lt.a,null),content:"When clicked the OK button, this dialog will be closed after 1 second",onOk:function(){a.props.deleteStudent(a.props.token,a.props.match.params.id),a.props.history.push("/student/all-students")},onCancel:function(){}})},a}return Object(se.a)(t,e),Object(ne.a)(t,[{key:"componentDidMount",value:function(){void 0!==this.props.token&&null!==this.props.token&&this.props.getStudentDetail(this.props.token,this.props.match.params.id)}},{key:"componentWillReceiveProps",value:function(e){e.token!==this.props.token&&void 0!==e.token&&null!==e.token&&this.props.getStudentDetail(e.token,this.props.match.params.id)}},{key:"render",value:function(){var e=this.props.currentStudent,t=e.id,a=e.first_name,n=e.last_name,l=e.username,s=e.email,o=(e.is_student,e.school,e.students),c=null;try{c=o.map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement("p",null,r.a.createElement("strong",null,"Street: "),e.street))}))}catch(i){}return r.a.createElement("div",null,(this.props.is_system_admin||this.props.is_school_admin||this.props.is_teacher||this.props.is_student&&this.props.userId==this.props.match.params.id)&&Object.keys(e).length>0?r.a.createElement("div",{className:"m-auto mt-5"},this.props.loading?r.a.createElement(Et.a,{active:!0}):r.a.createElement(pt.a,{extra:r.a.createElement("div",null,r.a.createElement(oe.b,{to:"/student/".concat(t,"/update")},r.a.createElement(Ue.a,{type:"primary"},"Edit")),r.a.createElement(Ue.a,{type:"danger",onClick:this.showConfirmDelete},"Delete")),style:{width:"100%"}},r.a.createElement(Yt,{avatar:r.a.createElement(Dt.a,{src:"/static/assets/img/figure/student.png"}),title:[a," ",n]}),r.a.createElement("br",null),r.a.createElement("p",null,r.a.createElement("strong",null,"Username: "),l),r.a.createElement("p",null,r.a.createElement("strong",null,"Email: "),s),c)):null)}}]),t}(n.Component),Zt=Object(o.b)((function(e){return{token:e.auth.token,userId:e.auth.userId,is_system_admin:e.auth.is_system_admin,is_school_admin:e.auth.is_school_admin,is_teacher:e.auth.is_teacher,is_student:e.auth.is_student,schoolId:e.auth.schoolId,currentStudent:e.users.currentUser,loading:e.users.loading,username:e.auth.username}}),(function(e){return{deleteStudent:function(t,a){return e(pe(t,a))},getStudentDetail:function(t,a){return e(Ee(t,a))}}}))(Kt),Jt=function(e){function t(){var e,a;Object(ae.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(re.a)(this,(e=Object(le.a)(t)).call.apply(e,[this].concat(r)))).state={fileList:[],uploading:!1},a.handleUpload=function(){var e=a.state.fileList,t=new FormData;t.append("image",e[0],e[0].name),a.setState({uploading:!0}),me.a.defaults.headers={"Content-Type":"multipart/form-data",Authorization:"Token ".concat(a.props.token)},me.a.put("http://127.0.0.1:8000/students-image/".concat(a.props.currentStudent.students[0].id,"/"),t).then((function(e){a.setState({fileList:[],uploading:!1}),bt.a.success("upload successfully."),console.log(e)})).catch((function(e){a.setState({uploading:!1}),bt.a.error("sorry error has occured.",e),console.log(e)}))},a}return Object(se.a)(t,e),Object(ne.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.uploading,n=t.fileList,l={multiple:!1,showUploadList:{showDownloadIcon:!1},onRemove:function(t){e.setState((function(e){return{fileList:[]}}))},beforeUpload:function(t){return e.setState((function(e){return{fileList:[t]}})),!1},fileList:n};return r.a.createElement("div",null,r.a.createElement(rt.a,Object.assign({},l,{accept:".jpg,.png"}),r.a.createElement(Ue.a,null,r.a.createElement(st.a,null)," Select File")),r.a.createElement(Ue.a,{type:"primary",onClick:this.handleUpload,disabled:0===n.length,loading:a,style:{marginTop:16}},a?"Uploading":"Start Upload"))}}]),t}(r.a.Component),$t=Object(o.b)((function(e){return{token:e.auth.token,is_system_admin:e.auth.is_system_admin,username:e.auth.username,currentStudent:e.users.currentUser,loading:e.users.loading,error:e.users.error}}))(Jt),Qt=Ze.a.Option,Xt=function(e){function t(){var e,a;Object(ae.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(re.a)(this,(e=Object(le.a)(t)).call.apply(e,[this].concat(r)))).state={confirmDirty:!1},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields((function(e,t){if(!e){console.log("Received values of form: ",t);var n=[];n.push({date_of_birth:t.date_of_birth,gender:t.gender,street:t.street,city:t.city,state:t.state,country:t.country,zip_code:t.zip_code,father_name:t.father_name,mother_name:t.mother_name,father_occupation:t.father_occupation,mother_occupation:t.mother_occupation,father_phone:t.father_phone,mother_phone:t.mother_phone,father_email:t.father_email,mother_email:t.mother_email,emergency_contact1:t.emergency_contact1,emergency_contact2:t.emergency_contact2,blood_group:t.blood_group,mother_tongue:t.mother_tongue,father_annual_income:t.father_annual_income,mother_annual_income:t.mother_annual_income,previous_school_info:t.previous_school_info,class_of_admission:t.class_of_admission,year_of_admission:t.year_of_admission});var r={first_name:t.first_name,last_name:t.last_name,username:t.username,email:t.email,is_student:!0,is_teacher:!1,is_school_admin:!1,is_system_admin:!1,students:n};a.props.updateStudent(a.props.token,a.props.match.params.id,r)}}))},a.normFile=function(e){return console.log("Upload event:",e),Array.isArray(e)?e:e&&e.fileList},a}return Object(se.a)(t,e),Object(ne.a)(t,[{key:"componentDidMount",value:function(){void 0!==this.props.token&&null!==this.props.token&&this.props.getStudentDetail(this.props.token,this.props.match.params.id)}},{key:"componentWillReceiveProps",value:function(e){e.token!==this.props.token&&void 0!==e.token&&null!==e.token&&this.props.getStudentDetail(e.token,this.props.match.params.id)}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.props.currentStudent,a=t.first_name,n=t.last_name,l=t.username,s=t.email,o=(t.is_student,t.school,t.students);return r.a.createElement("div",null,(this.props.is_system_admin||this.props.is_school_admin||this.props.is_teacher||this.props.is_student&&this.props.userId==this.props.match.params.id)&&Object.keys(t).length>0?r.a.createElement("div",null,r.a.createElement($t,null),r.a.createElement("br",null),r.a.createElement(Ae.a,{onSubmit:this.handleSubmit},r.a.createElement(at.a,{gutter:24},r.a.createElement(nt.a,{span:8},r.a.createElement(Ae.a.Item,{label:"First Name"},e("first_name",{initialValue:a,rules:[{required:!0,message:"Please input your first name!"}]})(r.a.createElement(xe.a,{prefix:r.a.createElement(De.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"First Name"})))),r.a.createElement(nt.a,{span:8},r.a.createElement(Ae.a.Item,{label:"Last Name"},e("last_name",{initialValue:n,rules:[{required:!0,message:"Please input your last name!"}]})(r.a.createElement(xe.a,{prefix:r.a.createElement(De.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Last Name"})))),r.a.createElement(nt.a,{span:8},r.a.createElement(Ae.a.Item,{label:"Username"},e("username",{initialValue:l,rules:[{required:!0,message:"Please input your username!"}]})(r.a.createElement(xe.a,{prefix:r.a.createElement(De.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Username"})))),r.a.createElement(nt.a,{span:8},r.a.createElement(Ae.a.Item,{label:"Email"},e("email",{initialValue:s,rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}]})(r.a.createElement(xe.a,{prefix:r.a.createElement(De.a,{type:"mail",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Email"})))),o.map((function(t,a){return r.a.createElement("div",{key:a},r.a.createElement(nt.a,{span:8},r.a.createElement(Ae.a.Item,{label:"Gender"},e("gender",{initialValue:t.gender})(r.a.createElement(Ze.a,{placeholder:"Select your gender"},r.a.createElement(Qt,{value:"male"},"Male"),r.a.createElement(Qt,{value:"female"},"Female"))))),r.a.createElement(nt.a,{span:8},r.a.createElement(Ae.a.Item,{label:"Date of Birth"},e("date_of_birth",{defaultValue:vt()(t.date_of_birth,"YYYY-MM-DD")})(r.a.createElement(lt.a,null)))),r.a.createElement(nt.a,{span:8},r.a.createElement(Ae.a.Item,{label:"Country"},e("country",{initialValue:t.country})(r.a.createElement(Ze.a,{placeholder:"Select your country"},r.a.createElement(Qt,{value:"usa"},"USA"),r.a.createElement(Qt,{value:"nigeria"},"Nigeria"))))),r.a.createElement(nt.a,{span:8},r.a.createElement(Ae.a.Item,{label:"State"},e("state",{initialValue:t.state})(r.a.createElement(Ze.a,{placeholder:"Select your state"},r.a.createElement(Qt,{value:"washinton"},"Washinton"),r.a.createElement(Qt,{value:"imo"},"Imo"))))),r.a.createElement(nt.a,{span:8},r.a.createElement(Ae.a.Item,{label:"City"},e("city",{initialValue:t.city})(r.a.createElement(xe.a,{placeholder:"City"})))),r.a.createElement(nt.a,{span:8},r.a.createElement(Ae.a.Item,{label:"Street"},e("street",{initialValue:t.street})(r.a.createElement(xe.a,{placeholder:"Street"})))),r.a.createElement(nt.a,{span:8},r.a.createElement(Ae.a.Item,{label:"Zip Code"},e("zip_code",{initialValue:t.zip_code})(r.a.createElement(xe.a,{placeholder:"Zip code"})))),r.a.createElement(nt.a,{span:8},r.a.createElement(Ae.a.Item,{label:"Father's Name"},e("father_name",{initialValue:t.father_name})(r.a.createElement(xe.a,{placeholder:"Father's Name"})))),r.a.createElement(nt.a,{span:8},r.a.createElement(Ae.a.Item,{label:"Mother's Name"},e("mother_name",{initialValue:t.mother_name})(r.a.createElement(xe.a,{placeholder:"Mother's Name"})))),r.a.createElement(nt.a,{span:8},r.a.createElement(Ae.a.Item,{label:"Father's Occupation"},e("father_occupation",{initialValue:t.father_occupation})(r.a.createElement(xe.a,{placeholder:"Father's Occupation"})))),r.a.createElement(nt.a,{span:8},r.a.createElement(Ae.a.Item,{label:"Mother's Occupation"},e("mother_occupation",{initialValue:t.mother_occupation})(r.a.createElement(xe.a,{placeholder:"Mother's Occupation"})))),r.a.createElement(nt.a,{span:8},r.a.createElement(Ae.a.Item,{label:"Father's Phone"},e("father_phone",{initialValue:t.father_phone})(r.a.createElement(xe.a,{placeholder:"Father's Phone"})))),r.a.createElement(nt.a,{span:8},r.a.createElement(Ae.a.Item,{label:"Mother's Phone"},e("mother_phone",{initialValue:t.mother_phone})(r.a.createElement(xe.a,{placeholder:"Mother's Phone"})))),r.a.createElement(nt.a,{span:8},r.a.createElement(Ae.a.Item,{label:"Father's Email"},e("father_email",{initialValue:t.father_email})(r.a.createElement(xe.a,{placeholder:"Father's Email"})))),r.a.createElement(nt.a,{span:8},r.a.createElement(Ae.a.Item,{label:"Mother's Email"},e("mother_email",{initialValue:t.mother_email})(r.a.createElement(xe.a,{placeholder:"Mother's Email"})))),r.a.createElement(nt.a,{span:8},r.a.createElement(Ae.a.Item,{label:"Emergency Contact1"},e("emergency_contact1",{initialValue:t.emergency_contact1})(r.a.createElement(xe.a,{placeholder:"Emergency Contact1"})))),r.a.createElement(nt.a,{span:8},r.a.createElement(Ae.a.Item,{label:"Emergency Contact2"},e("emergency_contact2",{initialValue:t.emergency_contact2})(r.a.createElement(xe.a,{placeholder:"Emergency Contact2"})))),r.a.createElement(nt.a,{span:8},r.a.createElement(Ae.a.Item,{label:"Blood Group"},e("blood_group",{initialValue:t.blood_group})(r.a.createElement(xe.a,{placeholder:"Blood Group"})))),r.a.createElement(nt.a,{span:8},r.a.createElement(Ae.a.Item,{label:"Mother Tongue"},e("mother_tongue",{initialValue:t.mother_tongue})(r.a.createElement(xe.a,{placeholder:"Mother Tongue"})))),r.a.createElement(nt.a,{span:8},r.a.createElement(Ae.a.Item,{label:"Father Annual Income"},e("father_annual_income",{initialValue:t.father_annual_income})(r.a.createElement(xe.a,{placeholder:"Father Annual Income"})))),r.a.createElement(nt.a,{span:8},r.a.createElement(Ae.a.Item,{label:"Mother Annual Income"},e("mother_annual_income",{initialValue:t.mother_annual_income})(r.a.createElement(xe.a,{placeholder:"Mother Annual Income"})))),r.a.createElement(nt.a,{span:8},r.a.createElement(Ae.a.Item,{label:"Previous School Info"},e("previous_school_info",{initialValue:t.previous_school_info})(r.a.createElement(xe.a,{placeholder:"Previous School Info"})))),r.a.createElement(nt.a,{span:8},r.a.createElement(Ae.a.Item,{label:"Class of Admission"},e("class_of_admission",{initialValue:t.class_of_admission})(r.a.createElement(xe.a,{placeholder:"Class of Admission"})))),r.a.createElement(nt.a,{span:8},r.a.createElement(Ae.a.Item,{label:"Year of admission"},e("year_of_admission",{initialValue:t.year_of_admission})(r.a.createElement(xe.a,{placeholder:"Year of admission"})))))}))),r.a.createElement(at.a,null,r.a.createElement(nt.a,{span:24,style:{textAlign:"right"}},r.a.createElement(Ue.a,{type:"primary",htmlType:"submit"},"Save"))))):null)}}]),t}(n.Component),ea=Ae.a.create()(Xt),ta=Object(o.b)((function(e){return{token:e.auth.token,userId:e.auth.userId,schoolId:e.auth.schoolId,is_system_admin:e.auth.is_system_admin,is_school_admin:e.auth.is_school_admin,is_teacher:e.auth.is_teacher,is_student:e.auth.is_student,username:e.auth.username,currentStudent:e.users.currentUser,loading:e.users.loading,error:e.users.error}}),(function(e){return{updateStudent:function(t,a,n){return e(he(t,a,n))},getStudentDetail:function(t,a){return e(Ee(t,a))}}}))(ea),aa=a(501),na=a(244),ra=(r.a.Component,Ae.a.Item),la=Ze.a.Option,sa=function(e){function t(){var e,a;Object(ae.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(re.a)(this,(e=Object(le.a)(t)).call.apply(e,[this].concat(r)))).state={confirmDirty:!1,image:null},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFieldsAndScroll((function(e,t){if(!e){var n={name:t.name,street:t.street,city:t.city,state:t.state,country:t.country,zipcode:t.zipcode,owner_name:t.owner_name,phone:t.phone,fax:t.fax,email:t.email,website:t.website};a.props.createSchool(a.props.token,n),a.props.history.push("/school/all-schools")}}))},a.handleConfirmBlur=function(e){var t=e.target.value;a.setState({confirmDirty:a.state.confirmDirty||!!t})},a}return Object(se.a)(t,e),Object(ne.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return r.a.createElement("div",null,this.props.is_system_admin?r.a.createElement("div",null,r.a.createElement(Ae.a,{onSubmit:this.handleSubmit},r.a.createElement(ra,{label:"School Name"},e("name",{rules:[{required:!0,message:"School name is required!"}]})(r.a.createElement(xe.a,{placeholder:"School Name"}))),r.a.createElement(ra,{label:"Country"},e("country",{rules:[{required:!0,message:"Please select school country!"}]})(r.a.createElement(Ze.a,{placeholder:"Select school country"},r.a.createElement(la,{value:"usa"},"USA"),r.a.createElement(la,{value:"nigeria"},"Nigeria")))),r.a.createElement(ra,{label:"State"},e("state",{rules:[{required:!0,message:"Please select school state!"}]})(r.a.createElement(Ze.a,{placeholder:"Select school state"},r.a.createElement(la,{value:"newyork"},"New York"),r.a.createElement(la,{value:"imo"},"Imo")))),r.a.createElement(ra,{label:"City"},e("city",{rules:[{required:!0,message:"Please select school city!"}]})(r.a.createElement(Ze.a,{placeholder:"Select a school city"},r.a.createElement(la,{value:"owerri"},"owerri"),r.a.createElement(la,{value:"awka"},"awka")))),r.a.createElement(ra,{label:"Street"},e("street",{rules:[{required:!0,message:"Please enter school street!"}]})(r.a.createElement(xe.a,{placeholder:"School Street"}))),r.a.createElement(ra,{label:"Zip Code"},e("zipcode",{rules:[{required:!0,message:"zipcode is required!"}]})(r.a.createElement(aa.a,{placeholder:"Zipcode"}))),r.a.createElement(ra,{label:"Owner Name"},e("owner_name",{rules:[{required:!0,message:"Owner name is required!"}]})(r.a.createElement(xe.a,{placeholder:"Owner Name"}))),r.a.createElement(ra,{label:"Mobile Number"},e("phone",{rules:[{required:!0,message:"phone number is required!"}]})(r.a.createElement(aa.a,{placeholder:"Mobile number"}))),r.a.createElement(ra,{label:"Fax"},e("fax",{rules:[{required:!0,message:"fax is required!"}]})(r.a.createElement(xe.a,{placeholder:"Fax"}))),r.a.createElement(ra,{label:"Email"},e("email",{rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}]})(r.a.createElement(xe.a,{placeholder:"Email"}))),r.a.createElement(ra,{label:"Website"},e("website",{rules:[{required:!0,message:"School website is required!"}]})(r.a.createElement(xe.a,{placeholder:"Website"}))),r.a.createElement(ra,null,r.a.createElement(Ue.a,{type:"primary",htmlType:"submit",style:{marginRight:"10px"}},"Create School")))):null)}}]),t}(r.a.Component),oa=Ae.a.create()(sa),ca=Object(o.b)((function(e){return{token:e.auth.token,is_system_admin:e.auth.is_system_admin,username:e.auth.username,loading:e.schools.loading,error:e.schools.error}}),(function(e){return{createSchool:function(t,a){return e(function(e,t){return function(a){a({type:"CREATE_SCHOOL_START"}),me.a.defaults.headers={"Content-Type":"application/json",Authorization:"Token ".concat(e)},me.a.post("http://127.0.0.1:8000/schools/",t).then((function(e){a(function(e){return{type:"CREATE_SCHOOL_SUCCESS",school:e}}(e.data))})).catch((function(e){var t;a(ue(e.response.data,e.response.status)),a({type:"CREATE_SCHOOL_FAIL",error:t})}))}}(t,a))}}}))(oa),ia=function(e){function t(){var e,a;Object(ae.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(re.a)(this,(e=Object(le.a)(t)).call.apply(e,[this].concat(r)))).state={fileList:[],uploading:!1},a.handleUpload=function(){var e=a.state.fileList,t=new FormData;t.append("logo",e[0],e[0].name),a.setState({uploading:!0}),me.a.defaults.headers={"Content-Type":"multipart/form-data",Authorization:"Token ".concat(a.props.token)},me.a.put("http://127.0.0.1:8000/schoologo/".concat(a.props.currentSchool.id,"/"),t).then((function(e){a.setState({fileList:[],uploading:!1}),bt.a.success("upload successfully."),console.log(e)})).catch((function(e){a.setState({uploading:!1}),bt.a.error("sorry error has occured.",e),console.log(e)}))},a}return Object(se.a)(t,e),Object(ne.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.uploading,n=t.fileList,l={multiple:!1,showUploadList:{showDownloadIcon:!1},onRemove:function(t){e.setState((function(e){return{fileList:[]}}))},beforeUpload:function(t){return e.setState((function(e){return{fileList:[t]}})),!1},fileList:n};return r.a.createElement("div",null,r.a.createElement(rt.a,Object.assign({},l,{accept:".jpg,.png"}),r.a.createElement(Ue.a,null,r.a.createElement(st.a,null)," Select File")),r.a.createElement(Ue.a,{type:"primary",onClick:this.handleUpload,disabled:0===n.length,loading:a,style:{marginTop:16}},a?"Uploading":"Start Upload"))}}]),t}(r.a.Component),ma=Object(o.b)((function(e){return{token:e.auth.token,is_system_admin:e.auth.is_system_admin,username:e.auth.username,currentSchool:e.schools.currentSchool,loading:e.schools.loading,error:e.schools.error}}))(ia),ua=Ae.a.Item,da=Ze.a.Option,pa=function(e){function t(){var e,a;Object(ae.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(re.a)(this,(e=Object(le.a)(t)).call.apply(e,[this].concat(r)))).state={confirmDirty:!1,image:null},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFieldsAndScroll((function(e,t){if(!e){var n={name:t.name,street:t.street,city:t.city,state:t.state,country:t.country,zipcode:t.zipcode,owner_name:t.owner_name,phone:t.phone,fax:t.fax,email:t.email,website:t.website};a.props.updateSchool(a.props.token,a.props.match.params.id,n)}}))},a.handleConfirmBlur=function(e){var t=e.target.value;a.setState({confirmDirty:a.state.confirmDirty||!!t})},a}return Object(se.a)(t,e),Object(ne.a)(t,[{key:"componentDidMount",value:function(){void 0!==this.props.token&&null!==this.props.token&&this.props.getSchoolDetail(this.props.token,this.props.match.params.id)}},{key:"componentWillReceiveProps",value:function(e){e.token!==this.props.token&&void 0!==e.token&&null!==e.token&&this.props.getSchoolDetail(e.token,this.props.match.params.id)}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.props.currentSchool,a=t.name,n=t.street,l=t.city,s=t.state,o=t.country,c=t.zipcode,i=t.owner_name,m=t.phone,u=t.fax,d=t.email,p=t.website;return r.a.createElement("div",null,this.props.is_system_admin&&Object.keys(t).length>0?r.a.createElement("div",null,r.a.createElement(ma,null),r.a.createElement("br",null),r.a.createElement(Ae.a,{onSubmit:this.handleSubmit},r.a.createElement(ua,null,e("name",{initialValue:a,rules:[{required:!0,message:"School name is required!"}]})(r.a.createElement(xe.a,{placeholder:"School Name"}))),r.a.createElement(ua,null,e("country",{initialValue:o,rules:[{required:!0,message:"Please select school country!"}]})(r.a.createElement(Ze.a,{placeholder:"Select school country"},r.a.createElement(da,{value:"usa"},"USA"),r.a.createElement(da,{value:"nigeria"},"Nigeria")))),r.a.createElement(ua,null,e("state",{initialValue:s,rules:[{required:!0,message:"Please select school state!"}]})(r.a.createElement(Ze.a,{placeholder:"Select school state"},r.a.createElement(da,{value:"newyork"},"New York"),r.a.createElement(da,{value:"imo"},"Imo")))),r.a.createElement(ua,null,e("city",{initialValue:l,rules:[{required:!0,message:"Please select school city!"}]})(r.a.createElement(Ze.a,{placeholder:"Select a user type"},r.a.createElement(da,{value:"owerri"},"owerri"),r.a.createElement(da,{value:"awka"},"awka")))),r.a.createElement(ua,null,e("street",{initialValue:n,rules:[{required:!0,message:"Please enter school street!"}]})(r.a.createElement(xe.a,{placeholder:"School Street"}))),r.a.createElement(ua,null,e("zipcode",{initialValue:c,rules:[{required:!0,message:"zipcode is required!"}]})(r.a.createElement(aa.a,{placeholder:"Zipcode"}))),r.a.createElement(ua,null,e("owner_name",{initialValue:i,rules:[{required:!0,message:"Owner name is required!"}]})(r.a.createElement(xe.a,{placeholder:"Owner Name"}))),r.a.createElement(ua,null,e("phone",{initialValue:m,rules:[{required:!0,message:"phone number is required!"}]})(r.a.createElement(aa.a,{placeholder:"Mobile number"}))),r.a.createElement(ua,null,e("fax",{initialValue:u,rules:[{required:!0,message:"fax is required!"}]})(r.a.createElement(xe.a,{placeholder:"Fax"}))),r.a.createElement(ua,null,e("email",{initialValue:d,rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}]})(r.a.createElement(xe.a,{placeholder:"Email"}))),r.a.createElement(ua,null,e("website",{initialValue:p,rules:[{required:!0,message:"School website is required!"}]})(r.a.createElement(xe.a,{placeholder:"Website"}))),r.a.createElement(ua,null,r.a.createElement(Ue.a,{type:"primary",htmlType:"submit",style:{marginRight:"10px"}},"Update School")))):null)}}]),t}(r.a.Component),ha=Ae.a.create()(pa),Ea=Object(o.b)((function(e){return{token:e.auth.token,is_system_admin:e.auth.is_system_admin,username:e.auth.username,currentSchool:e.schools.currentSchool,loading:e.schools.loading,error:e.schools.error}}),(function(e){return{updateSchool:function(t,a,n){return e(function(e,t,a){return function(n){n({type:"UPDATE_SCHOOL_START"}),me.a.defaults.headers={"Content-Type":"application/json",Authorization:"Token ".concat(e)},me.a.put("http://127.0.0.1:8000/schools/".concat(t,"/"),a).then((function(e){var t=e.data;n(Xe(t))})).catch((function(e){n(ue(e.response.data,e.response.status)),n(et(e))}))}}(t,a,n))},getSchoolDetail:function(t,a){return e(tt(t,a))}}}))(ha),fa=pt.a.Meta,ga=function(e){function t(){var e,a;Object(ae.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(re.a)(this,(e=Object(le.a)(t)).call.apply(e,[this].concat(r)))).handleDelete=function(e){a.props.deleteSchool(a.props.token,e)},a}return Object(se.a)(t,e),Object(ne.a)(t,[{key:"componentDidMount",value:function(){void 0!==this.props.token&&null!==this.props.token&&this.props.getSchools(this.props.token)}},{key:"componentWillReceiveProps",value:function(e){e.token!==this.props.token&&void 0!==e.token&&null!==e.token&&this.props.getSchools(e.token)}},{key:"renderItem",value:function(e){var t=this;return(r.a.createElement(ht.a.Item,{key:e.id},r.a.createElement(pt.a,{hoverable:!0,cover:null!==e.logo?r.a.createElement("img",{style:{height:100},alt:"Logo",src:e.logo}):r.a.createElement("img",{style:{height:100},src:"/static/assets/img/ECOLOGO.jpg",className:"media-img-auto",alt:"Logo"}),actions:[r.a.createElement(oe.b,{to:"/school/".concat(e.id)},r.a.createElement(ft.a,{key:"view"})),r.a.createElement(oe.b,{to:"/school/".concat(e.id,"/update/")},r.a.createElement(gt.a,{key:"edit"})),r.a.createElement(yt.a,{key:"delete",onClick:function(){return t.handleDelete(e.id)}})]},r.a.createElement(fa,{title:e.name}))))}},{key:"render",value:function(){var e=this;return r.a.createElement(fe,null,this.props.is_system_admin?this.props.loading?r.a.createElement(Et.a,{active:!0}):r.a.createElement("div",null,r.a.createElement("h3",{style:{margin:"16px 0"}},"School List"),r.a.createElement(ht.a,{grid:{gutter:16,xs:1,sm:2,md:2,lg:4,xl:4,xxl:3},pagination:{onChange:function(e){console.log(e)},pageSize:6},bordered:!0,dataSource:this.props.schools,renderItem:function(t){return e.renderItem(t)}})):null)}}]),t}(n.Component),ya=Object(o.b)((function(e){return{token:e.auth.token,is_system_admin:e.auth.is_system_admin,schools:e.schools.schools,loading:e.schools.loading}}),(function(e){return{deleteSchool:function(t,a){return e(Qe(t,a))},getSchools:function(t){return e($e(t))}}}))(ga),_a=a(494),va=a(511),ba=At.a.confirm,Sa=function(e){function t(){var e,a;Object(ae.a)(this,t);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(a=Object(re.a)(this,(e=Object(le.a)(t)).call.apply(e,[this].concat(l)))).state={searchText:"test",searchedColumn:"test"},a.getColumnSearchProps=function(e){return{filterDropdown:function(t){var n=t.setSelectedKeys,l=t.selectedKeys,s=t.confirm,o=t.clearFilters;return r.a.createElement("div",{style:{padding:8}},r.a.createElement(xe.a,{ref:function(e){a.searchInput=e},placeholder:"Search ".concat(e),value:l[0],onChange:function(e){return n(e.target.value?[e.target.value]:[])},onPressEnter:function(){return a.handleSearch(l,s,e)},style:{width:188,marginBottom:8,display:"block"}}),r.a.createElement(Ue.a,{type:"primary",onClick:function(){return a.handleSearch(l,s,e)},icon:r.a.createElement(va.a,null),size:"small",style:{width:90,marginRight:8}},"Search"),r.a.createElement(Ue.a,{onClick:function(){return a.handleReset(o)},size:"small",style:{width:90}},"Reset"))},filterIcon:function(e){return r.a.createElement(va.a,{style:{color:e?"#1890ff":void 0}})},onFilter:function(t,a){return a[e].toString().toLowerCase().includes(t.toLowerCase())},onFilterDropdownVisibleChange:function(e){e&&setTimeout((function(){return a.searchInput.select()}))},render:function(t){return a.state.searchedColumn===e?r.a.createElement("div",null):t}}},a.handleSearch=function(e,t,n){t(),a.setState({searchText:e[0],searchedColumn:n})},a.handleReset=function(e){e(),a.setState({searchText:""})},a.onChange=function(e,t,a,n){console.log("params",e,t,a,n)},a.showConfirmDelete=function(e){e.preventDefault();a.props.deleteSchool;ba({title:"Do you want to delete these school?",icon:r.a.createElement(Lt.a,null),content:"When clicked the OK button, this dialog will be closed after 1 second",onOk:function(){a.props.deleteSchool(a.props.token,a.props.match.params.id),a.props.history.push("/school/all-schools")},onCancel:function(){}})},a}return Object(se.a)(t,e),Object(ne.a)(t,[{key:"componentDidMount",value:function(){void 0!==this.props.token&&null!==this.props.token&&(this.props.getSchoolDetail(this.props.token,this.props.match.params.id),this.props.getTeachers(this.props.token))}},{key:"componentWillReceiveProps",value:function(e){e.token!==this.props.token&&void 0!==e.token&&null!==e.token&&(this.props.getSchoolDetail(e.token,this.props.match.params.id),this.props.getTeachers(e.token))}},{key:"render",value:function(){var e=this.props.currentSchool,t=e.id,a=e.name,n=e.street,l=e.city,s=e.state,o=e.country,c=e.zipcode,i=e.owner_name,m=e.phone,u=e.fax,d=e.email,h=e.website,E=[],f=[Object(p.a)({title:"Name",dataIndex:"name",key:"name",width:"30%"},this.getColumnSearchProps("name")),Object(p.a)({title:"Gender",dataIndex:"gender",key:"gender",width:"20%"},this.getColumnSearchProps("gender")),Object(p.a)({title:"Address",dataIndex:"address",key:"address"},this.getColumnSearchProps("address")),{title:"Role",dataIndex:"role",filters:[{text:"School Admins",value:"School Admin"},{text:"Teachers",value:"Teacher"},{text:"Students",value:"Student"}],filterMultiple:!1,onFilter:function(e,t){return 0===t.role.indexOf(e)},sorter:function(e,t){return e.role.length-t.role.length},sortDirections:["descend"]}];return this.props.users.map((function(e,t){var a=null;!0===e.is_school_admin?a="School Admin":!0===e.is_teacher&&(a="Teacher");var n=e.first_name+" "+e.last_name;e.teachers.map((function(t,r){E.push({key:e.id,name:n,gender:t.gender?t.gender:"No Data",address:t.country?t.country:"No Data",role:a})})),e.students.map((function(t,a){E.push({key:e.id,name:n,gender:t.gender?t.gender:"No Data",address:t.country?t.country:"No Data",role:"Student"})}))})),r.a.createElement("div",null,this.props.is_system_admin&&Object.keys(e).length>0?r.a.createElement("div",{className:"m-auto mt-5"},this.props.loading?r.a.createElement(Et.a,{active:!0}):r.a.createElement(pt.a,{title:a,extra:r.a.createElement("div",null,r.a.createElement(oe.b,{to:"/school/".concat(t,"/update")},r.a.createElement(Ue.a,{type:"primary"},"Edit")),r.a.createElement(Ue.a,{type:"danger",onClick:this.showConfirmDelete},"Delete")),style:{width:"100%"}},r.a.createElement("p",null,r.a.createElement("strong",null,"Street: "),n),r.a.createElement("p",null,r.a.createElement("strong",null,"City: "),l),r.a.createElement("p",null,r.a.createElement("strong",null,"State: "),s),r.a.createElement("p",null,r.a.createElement("strong",null,"Country: "),o),r.a.createElement("p",null,r.a.createElement("strong",null,"Zip Code: "),c),r.a.createElement("p",null,r.a.createElement("strong",null,"Owner Name: "),i),r.a.createElement("p",null,r.a.createElement("strong",null,"Phone: "),m),r.a.createElement("p",null,r.a.createElement("strong",null,"Fax: "),u),r.a.createElement("p",null,r.a.createElement("strong",null,"Email: "),d),r.a.createElement("p",null,r.a.createElement("strong",null,"Website: "),h),r.a.createElement("br",null),r.a.createElement("p",null,r.a.createElement("strong",null,r.a.createElement("h2",null,"School Teachers & Students"))),r.a.createElement(_a.a,{columns:f,dataSource:E,onChange:this.onChange}))):null)}}]),t}(n.Component),ka=Object(o.b)((function(e){return{token:e.auth.token,is_system_admin:e.auth.is_system_admin,currentSchool:e.schools.currentSchool,users:e.users.users,students:e.users.users,loading:e.schools.loading,username:e.auth.username}}),(function(e){return{deleteSchool:function(t,a){return e(Qe(t,a))},getSchoolDetail:function(t,a){return e(tt(t,a))},getTeachers:function(t){return e(de(t))}}}))(Sa),Na=function(){return r.a.createElement("div",null,r.a.createElement(Ie.d,null,r.a.createElement(Ge,{exact:!0,path:"/",component:Ke}),r.a.createElement(Ie.b,{exact:!0,path:"/school/register-school",component:ca}),r.a.createElement(Ie.b,{exact:!0,path:"/school/all-schools",component:ya}),r.a.createElement(Ie.b,{exact:!0,path:"/school/:id/update",component:Ea}),r.a.createElement(Ie.b,{exact:!0,path:"/school/:id",component:ka}),r.a.createElement(Ie.b,{exact:!0,path:"/teacher/register-teacher",component:dt}),r.a.createElement(Ie.b,{exact:!0,path:"/teacher/all-teachers",component:It}),r.a.createElement(Ie.b,{exact:!0,path:"/teacher/:id/update",component:wt}),r.a.createElement(Ie.b,{exact:!0,path:"/teacher/:id",component:Pt}),r.a.createElement(Ie.b,{exact:!0,path:"/student/register-student",component:Ht}),r.a.createElement(Ie.b,{exact:!0,path:"/student/all-students",component:Wt}),r.a.createElement(Ie.b,{exact:!0,path:"/student/:id/update",component:ta}),r.a.createElement(Ie.b,{exact:!0,path:"/student/:id",component:Zt}),r.a.createElement(Ie.b,{exact:!0,path:"/login",component:Ve})))},Oa=function(e){function t(){return Object(ae.a)(this,t),Object(re.a)(this,Object(le.a)(t).apply(this,arguments))}return Object(se.a)(t,e),Object(ne.a)(t,[{key:"componentDidMount",value:function(){this.props.onTryAutoSignup()}},{key:"render",value:function(){return r.a.createElement(oe.a,null,r.a.createElement(Ce,null,r.a.createElement(Na,null)))}}]),t}(n.Component),Ta=Object(o.b)((function(e){return{isAuthenticated:null!==e.auth.token}}),(function(e){return{onTryAutoSignup:function(){return e(Te())},logout:function(){return e(ke())}}}))(Oa);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var wa=r.a.createElement(o.a,{store:te},r.a.createElement(Ta,null));s.a.render(wa,document.getElementById("app")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[249,1,2]]]);
//# sourceMappingURL=main.735ad3c0.chunk.js.map